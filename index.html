<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>The Blaze Java | Postulaciones</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#111,#000);
  color:#e4e6eb;
}
.container{max-width:1200px;margin:auto;padding:40px 20px}
h1{text-align:center;margin-bottom:40px}

.card{
  background:linear-gradient(180deg,#0f1115,#0a0b0e);
  border-radius:16px;
  padding:25px;
  box-shadow:0 0 40px rgba(0,0,0,.8);
}

.icon{
  width:50px;height:50px;
  background:#7c6a00;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-bottom:20px
}

.alert{
  margin:20px 0;
  padding:12px;
  border-radius:10px;
  background:rgba(67,181,129,.15);
  color:#43b581;
  font-size:14px
}

h3{margin-top:30px}

label{display:block;margin-top:15px;font-size:14px}
input, textarea, select{
  width:100%;
  padding:10px;
  margin-top:5px;
  border-radius:8px;
  border:none;
  background:#2b2d31;
  color:white;
}

button{
  margin-top:30px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#43b581,#2ea043);
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer
}

/* ADMIN */
#adminBtn{
  position:fixed;
  bottom:10px;
  right:10px;
  width:14px;
  height:14px;
  background:#5865f2;
  border-radius:50%;
  opacity:.2;
}
#adminBtn:hover{opacity:.6}

#adminPanel{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.95);
  padding:30px;
  overflow:auto;
}

.post{
  background:#1c1f26;
  border-radius:12px;
  padding:20px;
  margin-bottom:20px;
}
.section{margin-bottom:6px}
.delete{background:#f04747;color:white;padding:10px;border:none;border-radius:8px}
</style>
</head>

<body>

<div class="container">
<h1>PostulaciÃ³n Staff â€“ The Blaze Java</h1>

<div class="card">
<div class="icon">ğŸ“„</div>
<div class="alert">ğŸŸ¢ Postulaciones ABIERTAS</div>

<h3>ğŸ§¾ Datos BÃ¡sicos</h3>
<label>Nick de Minecraft</label><input id="nick_mc">
<label>Nick de Discord</label><input id="discord">
<label>Edad</label>
<select id="edad"><option>Menos de 12</option><option>12</option><option>MÃ¡s de 12</option></select>
<label>Â¿Cuenta Premium?</label>
<select id="premium"><option>Si</option><option>No</option></select>

<h3>ğŸ® Actividad</h3>
<label>Tiempo jugando Minecraft</label><input id="tiempo_mc">
<label>Â¿Eres activo?</label>
<select id="activo_mc"><option>Si</option><option>No</option></select>
<label>Â¿Conoces la ID? EscrÃ­bela</label><textarea id="id_conocimiento"></textarea>

<h3>âš–ï¸ Normas</h3>
<label>Sanciones en Minecraft</label><textarea id="sanciones"></textarea>
<label>Sanciones en Discord TheBlaze</label><textarea id="sanciones_dc"></textarea>
<label>Diferencia Spam y Flood</label><textarea id="diferencia_spam"></textarea>
<label>Â¿QuÃ© es un Warn?</label><textarea id="warn"></textarea>

<h3>ğŸ› ï¸ Experiencia</h3>
<label>Â¿Staff en otra network?</label>
<select id="staff_otro"><option>Si</option><option>No</option></select>
<label>Experiencia como staff</label><textarea id="exp_staff"></textarea>
<label>Experiencia como programador</label><textarea id="exp_programador"></textarea>
<label>10 bots que NO estÃ©n en TheBlaze</label><textarea id="bots"></textarea>

<h3>ğŸ§  Criterio</h3>
<label>Â¿QuÃ© harÃ­as ante algo ilegal?</label><textarea id="ilegal_servidor"></textarea>
<label>Si tu amigo hace algo ilegal</label><textarea id="amigo_ilegal"></textarea>
<label>Â¿Staff corrupto?</label><textarea id="staff_corrupto"></textarea>
<label>Â¿Aceptas el rol staff?</label>
<select id="acepta_staff"><option>Si</option><option>No</option></select>

<h3>âŒ¨ï¸ Comandos</h3>
<label>10 comandos Ãºtiles Discord</label><textarea id="cmds_discord"></textarea>
<label>10 comandos Ãºtiles Nautic</label><textarea id="cmds_nautic"></textarea>

<button onclick="enviar()">Enviar PostulaciÃ³n</button>
</div>
</div>

<div id="adminBtn" onclick="adminLogin()"></div>

<div id="adminPanel">
<h2>Panel Admin â€“ Postulaciones</h2>
<div id="posts"></div>
<button onclick="closeAdmin()">Cerrar</button>
</div>

<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://bvbneelfosacutwhjzhx.supabase.co",
  "sb_publishable_8QluYXwqMPxYWszgJlCbzw_EdakwSl-"
);

window.enviar = async () => {
  const datos = {
    rango:"soporte",
    id_conocimiento:id_conocimiento.value,
    sanciones:sanciones.value,
    sanciones_dc:sanciones_dc.value,
    nick_mc:nick_mc.value,
    activo_mc:activo_mc.value,
    tiempo_mc:tiempo_mc.value,
    discord:discord.value,
    diferencia_spam:diferencia_spam.value,
    warn:warn.value,
    premium:premium.value,
    edad:edad.value,
    bots:bots.value,
    staff_otro:staff_otro.value,
    acepta_staff:acepta_staff.value,
    exp_staff:exp_staff.value,
    exp_programador:exp_programador.value,
    ilegal_servidor:ilegal_servidor.value,
    cmds_discord:cmds_discord.value,
    cmds_nautic:cmds_nautic.value,
    amigo_ilegal:amigo_ilegal.value,
    staff_corrupto:staff_corrupto.value
  };

  const { error } = await supabase.from("postulaciones").insert([datos]);
  if(error){alert("âŒ Error");console.error(error);}
  else{alert("âœ… Enviada");location.reload();}
};

/* ADMIN */
window.adminLogin = async () => {
  const pass = prompt("ContraseÃ±a admin");
  if(pass!=="1.21 #3 parcelas") return;
  adminPanel.style.display="block";
  loadPosts();
};

async function loadPosts(){
  const {data}=await supabase.from("postulaciones").select("*").order("id",{ascending:false});
  posts.innerHTML="";
  data.forEach(p=>{
    posts.innerHTML+=`
    <div class="post">
      ${Object.entries(p).map(([k,v])=>k!=="id"&&k!=="created_at"?`<div class="section"><b>${k}</b>: ${v}</div>`:"").join("")}
      <button class="delete" onclick="del(${p.id})">Eliminar</button>
    </div>`;
  });
}

window.del=async(id)=>{
  if(confirm("Eliminar?")){
    await supabase.from("postulaciones").delete().eq("id",id);
    loadPosts();
  }
};

window.closeAdmin=()=>adminPanel.style.display="none";
</script>

</body>
</html>




